!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("blockstack"),require("react"),require("@blockstack/ui"),require("use-events"),require("styled-components"),require("jsontokens"),require("@blockstack/stacks-transactions"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","blockstack","react","@blockstack/ui","use-events","styled-components","jsontokens","@blockstack/stacks-transactions","react-dom"],t):t((e=e||self)["@blockstack/connect"]={},e.blockstack,e.React,e.ui,e.useEvents,e.Styled,e.jsontokens,e.stacksTransactions,e.ReactDOM)}(this,(function(e,t,n,r,o,i,a,l,c){"use strict";var s="default"in n?n.default:n;function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t.indexOf(n=i[r])>=0||(o[n]=e[n]);return o}i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,c=c&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c;var p=function(e){var t=e.url,n=e.title,r=void 0===n?"Continue with Secret Key":n,o=e.w,i=void 0===o?442:o,a=e.h,l=void 0===a?532:a,c=e.skipPopupFallback,s=window,u=void 0!==s.safari,d=s.innerWidth,p=s.innerHeight,h=s.outerHeight-s.innerHeight,m=s.outerWidth-s.innerWidth,f=s.screenX-(s.screen.width-s.screen.availWidth),C={scrollbars:"no",width:i,height:l,top:function(e){return e-(s.screen.height-s.screen.availHeight)}(s.screenY)+h+(p-l)/2+(u?48:0),left:f+m+(d-i)/2},g=Object.keys(C).map((function(e){return e+"="+C[e]})),v=window.open(t,r,g.join(","));return v?(v.focus(),v):c?v:window.open(t)},h=function(e){var t=e.popup,n=e.messageParams,r=e.onFinish,o=e.onCancel,i=e.authURL,a=null,l=setInterval((function(){if(t)try{console.log("about to ping"),t.postMessage(u({method:"ping"},n),i.origin)}catch(e){console.warn("[Blockstack] Unable to send ping to authentication service"),clearInterval(l)}else console.warn("[Blockstack] Unable to send ping to authentication service - popup closed");a&&(new Date).getTime()-a>500&&(o&&o(),clearInterval(l))}),250),c=function(e){!function(e){try{if("pong"===e.data.method)return a=(new Date).getTime(),Promise.resolve();var t=function(){if("blockstack-app"===e.data.source)return Promise.resolve(r(e.data)).then((function(){window.focus(),window.removeEventListener("message",c),clearInterval(l)}))}();Promise.resolve(t&&t.then?t.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}(e)};window.addEventListener("message",c,!1)};"undefined"!=typeof window&&(window.__CONNECT_VERSION__="2.12.7");var m,f=function(){var e=navigator.userAgent;return!!/android/i.test(e)||!!/iPad|iPhone|iPod/.test(e)||!!/windows phone/i.test(e)},C=function(){return!f()},g=function(e){if(!e){var n=new t.AppConfig(["store_write"],document.location.href);e=new t.UserSession({appConfig:n})}return e},v=function(e){var t=e.redirectTo,n=void 0===t?"/":t,r=e.manifestPath,o=e.finished,i=e.onFinish,a=e.onCancel,l=e.authOrigin,c=e.sendToSignIn,s=void 0!==c&&c,u=e.userSession,d=e.appDetails;try{var h,m=g(u);m.isUserSignedIn()&&m.signUserOut();var f=m.generateAndStoreTransitKey(),v=m.makeAuthRequest(f,""+document.location.origin+n,""+document.location.origin+r,m.appConfig.scopes,void 0,void 0,{sendToSignIn:s,appDetails:d,connectVersion:"2.12.7"}),E=window.location.search.substr(1).split("&").filter((function(e){return e.startsWith("utm")})).map((function(e){return e.split("=")})),S=new URLSearchParams;E.forEach((function(e){return S.set(e[0],e[1])})),S.set("authRequest",v);var w=s?"sign-in":"sign-up";return Promise.resolve(null===(h=window.BlockstackProvider)||void 0===h?void 0:h.getURL()).then((function(e){var t=new URL(e||l||"https://app.blockstack.org"),n=t.origin+"/index.html#/"+w+"?"+S.toString();if(C()){var r=p({url:n,skipPopupFallback:!!window.BlockstackProvider});y({popup:r,authRequest:v,onFinish:i||o,authURL:t,userSession:m,onCancel:a})}else document.location.href=n}))}catch(e){return Promise.reject(e)}},y=function(e){var t=e.authRequest,n=e.onFinish,r=e.userSession;h({popup:e.popup,onCancel:e.onCancel,onFinish:function(e){try{var o=function(){if(e.authRequest===t){var o=function(){if(n){var t=e.authResponse;return Promise.resolve(r.handlePendingSignIn(t)).then((function(){n({authResponse:t,userSession:r})}))}}();if(o&&o.then)return o.then((function(){}))}}();return Promise.resolve(o&&o.then?o.then((function(){})):void 0)}catch(e){return Promise.reject(e)}},messageParams:{authRequest:t},authURL:e.authURL})};!function(e){e.MODAL_OPEN="modal/open",e.MODAL_CLOSE="modal/close",e.START_AUTH="data/START_AUTH",e.FINISH_AUTH="data/FINISH_AUTH",e.CANCEL_AUTH="data/CANCEL_AUTH",e.UPDATE_AUTH_OPTIONS="data/update-auth-options",e.SCREENS_INTRO="screens/intro",e.SCREENS_HOW_IT_WORKS="screens/how-it-works",e.SCREENS_SIGN_IN="screens/sign-in"}(m||(m={}));var E={isOpen:!1,isAuthenticating:!1,screen:m.SCREENS_INTRO,authData:void 0,userSession:void 0,authOptions:{redirectTo:"",manifestPath:"",finished:function(){return null},authOrigin:void 0,sendToSignIn:!1,appDetails:{name:"",icon:""}}},S=function(e,t){var n=t.type,r=t.payload;switch(n){case m.MODAL_OPEN:return u({},e,{isOpen:!0});case m.MODAL_CLOSE:return u({},e,{isOpen:!1});case m.START_AUTH:return u({},e,{isAuthenticating:!0});case m.FINISH_AUTH:return u({},e,{isAuthenticating:!1,authData:r});case m.CANCEL_AUTH:return u({},e,{isAuthenticating:!1});case m.SCREENS_INTRO:return u({},e,{screen:m.SCREENS_INTRO});case m.SCREENS_HOW_IT_WORKS:return u({},e,{screen:m.SCREENS_HOW_IT_WORKS});case m.SCREENS_SIGN_IN:return u({},e,{screen:m.SCREENS_SIGN_IN});case m.UPDATE_AUTH_OPTIONS:return u({},e,{authOptions:u({},e.authOptions,r)});default:throw new Error("Unhandled action type: "+n)}},w=n.createContext(E),x=n.createContext(void 0),b=function(e){var t=e.authOptions,r=e.children,o=n.useReducer(S,E),i=o[1];return s.createElement(w.Provider,{value:u({},o[0],{authOptions:t})},s.createElement(x.Provider,{value:i},r))},k=function(e){return s.createElement(r.Box,Object.assign({as:"svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none"},e),s.createElement("rect",{width:"24",height:"24",rx:"12",fill:"#E3E5FF"}),s.createElement("path",{d:"M15.2727 10.0179H14.8636V8.8125C14.8636 8.06658 14.5619 7.35121 14.0249 6.82376C13.4879 6.29632 12.7595 6 12 6C11.2405 6 10.5121 6.29632 9.9751 6.82376C9.43807 7.35121 9.13636 8.06658 9.13636 8.8125V10.0179H8.72727C8.40189 10.0182 8.08994 10.1453 7.85985 10.3713C7.62977 10.5973 7.50036 10.9036 7.5 11.2232V16.0446C7.50036 16.3642 7.62977 16.6706 7.85985 16.8966C8.08994 17.1225 8.40189 17.2497 8.72727 17.25H15.2727C15.5981 17.2497 15.9101 17.1225 16.1401 16.8966C16.3702 16.6706 16.4996 16.3642 16.5 16.0446V11.2232C16.4996 10.9036 16.3702 10.5973 16.1401 10.3713C15.9101 10.1453 15.5981 10.0182 15.2727 10.0179ZM9.95455 8.8125C9.95455 8.2797 10.17 7.76872 10.5536 7.39197C10.9372 7.01523 11.4575 6.80357 12 6.80357C12.5425 6.80357 13.0628 7.01523 13.4464 7.39197C13.83 7.76872 14.0455 8.2797 14.0455 8.8125V10.0179H9.95455V8.8125ZM12.4091 13.7231V14.6384C12.4091 14.745 12.366 14.8471 12.2893 14.9225C12.2126 14.9978 12.1085 15.0402 12 15.0402C11.8915 15.0402 11.7874 14.9978 11.7107 14.9225C11.634 14.8471 11.5909 14.745 11.5909 14.6384V13.7231C11.4349 13.6346 11.313 13.4981 11.2441 13.3347C11.1752 13.1712 11.1631 12.99 11.2097 12.8192C11.2563 12.6483 11.359 12.4973 11.5019 12.3896C11.6448 12.282 11.8199 12.2236 12 12.2236C12.1801 12.2236 12.3552 12.282 12.4981 12.3896C12.641 12.4973 12.7437 12.6483 12.7903 12.8192C12.8369 12.99 12.8248 13.1712 12.7559 13.3347C12.687 13.4981 12.5651 13.6346 12.4091 13.7231Z",fill:"#3700FF"}),s.createElement("rect",{x:"10.5",y:"11.25",width:"3",height:"5.25",fill:"#3700FF"}))},T=function(e){return s.createElement(r.Text,{fontSize:"14px",color:"ink.900"},e.children)},O=function(e){var t=e.items;return s.createElement(r.Box,null,t.map((function(e,n){var o=e.text;return s.createElement(r.Flex,{px:"extra-loose",pb:"base-loose",pt:"base-loose",borderBottom:t.length-1!==n?"1px solid":"unset",borderColor:"inherit",align:"center",textAlign:"left",key:n},s.createElement(r.Box,{color:"blue",alignSelf:"stretch",mt:"extra-tight",mr:"base"},s.createElement(e.icon,null)),s.createElement(T,null,o))})))},_=function(e){return function(t){"Enter"===t.key&&e&&e()}},A=function(e){var t=e._hover,n=void 0===t?{}:t,o=e.children,i=e.fontSize,a=void 0===i?"12px":i,l=e.textStyle,c=void 0===l?"caption.medium":l,p=e.onClick,h=d(e,["_hover","children","fontSize","textStyle","onClick"]);return s.createElement(r.Box,Object.assign({},h,{onKeyPress:_(p),onClick:p,tabIndex:0}),s.createElement(r.Text,{_hover:u({textDecoration:"underline",cursor:"pointer"},n),fontSize:a,textStyle:c},o))},R=function(e){var t=d(e,["loading"]);return s.createElement(r.Box,Object.assign({as:"img",style:{maxWidth:"100%",display:"block"}},t))},I=function(e){var t=e.src,n=e.alt,o=d(e,["src","alt"]);return s.createElement(r.Box,Object.assign({borderRadius:"6px",overflow:"hidden",size:"loose"},o),s.createElement(R,{src:t,alt:n,title:n,loading:"lazy",width:"100%",maxHeight:"100%"}))};function P(){var e,t,n=(e=["\n  margin-left: 4px;\n  margin-right: 4px;\n  display: inline;\n  position: relative;\n  top: -1px;\n"],t||(t=e.slice(0)),e.raw=t,e);return P=function(){return n},n}var L,H,N=function(e){return s.createElement("svg",Object.assign({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},e),s.createElement("path",{d:"M18.5818 8.57143H17.7091V6C17.7091 4.4087 17.0655 2.88258 15.9198 1.75736C14.7741 0.632141 13.2202 0 11.6 0C9.97977 0 8.4259 0.632141 7.28022 1.75736C6.13454 2.88258 5.49091 4.4087 5.49091 6V8.57143H4.61818C3.92403 8.57218 3.25853 8.84334 2.76769 9.32541C2.27685 9.80748 2.00076 10.4611 2 11.1429V21.4286C2.00076 22.1103 2.27685 22.7639 2.76769 23.246C3.25853 23.7281 3.92403 23.9993 4.61818 24H18.5818C19.276 23.9993 19.9415 23.7281 20.4323 23.246C20.9231 22.7639 21.1992 22.1103 21.2 21.4286V11.1429C21.1992 10.4611 20.9231 9.80748 20.4323 9.32541C19.9415 8.84334 19.276 8.57218 18.5818 8.57143ZM7.23636 6C7.23636 4.86336 7.6961 3.77327 8.51444 2.96954C9.33278 2.16582 10.4427 1.71429 11.6 1.71429C12.7573 1.71429 13.8672 2.16582 14.6856 2.96954C15.5039 3.77327 15.9636 4.86336 15.9636 6V8.57143H7.23636V6Z",fill:"currentColor"}))},j=i.svg(P()),B=function(e){return s.createElement(j,Object.assign({width:"12",height:"12",viewBox:"0 0 12 12",fill:"none"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.148042 1.08513C-5.58794e-08 1.42724 -3.80998e-08 1.86349 0 2.736L1.42713e-07 6L2.85387e-07 9.264C3.23525e-07 10.1365 0 10.5728 0.148042 10.9149C0.329866 11.335 0.664964 11.6701 1.08513 11.852C1.42724 12 1.86349 12 2.736 12H6H9.264C10.1365 12 10.5728 12 10.9149 11.852C11.335 11.6701 11.6701 11.335 11.852 10.9149C12 10.5728 12 10.1365 12 9.264V6V2.736C12 1.86349 12 1.42724 11.852 1.08513C11.6701 0.664963 11.335 0.329865 10.9149 0.148041C10.5728 -6.70552e-08 10.1365 -3.80998e-08 9.264 0L6 1.42713e-07L2.736 2.85387e-07C1.86349 3.23525e-07 1.40625 2.90573e-07 1.08513 0.148042C0.664964 0.329867 0.329866 0.664963 0.148042 1.08513ZM7.91566 5.16965C7.31682 5.16965 6.83125 4.68409 6.83125 4.08511C6.83125 3.48644 7.31682 3.00088 7.91566 3.00088C8.5145 3.00088 9.00007 3.48644 9.00007 4.08511C9.00007 4.68409 8.5145 5.16965 7.91566 5.16965ZM5.16787 4.085C5.16787 4.68358 4.68253 5.16893 4.08382 5.16893C3.48541 5.16893 3.00007 4.68358 3.00007 4.085C3.00007 3.48643 3.48541 3.00107 4.08382 3.00107C4.68253 3.00107 5.16787 3.48643 5.16787 4.085ZM7.91576 6.83459C7.31679 6.83459 6.83123 7.32016 6.83123 7.919C6.83123 8.51785 7.31679 9.00342 7.91576 9.00342C8.51444 9.00342 9 8.51785 9 7.919C9 7.32016 8.51444 6.83459 7.91576 6.83459ZM4.08392 6.83565C4.68248 6.83565 5.16783 7.32098 5.16783 7.91969C5.16783 8.51809 4.68248 9.00342 4.08392 9.00342C3.48535 9.00342 3 8.51809 3 7.91969C3 7.32098 3.48535 6.83565 4.08392 6.83565Z",fill:"#A1A7B3"}))},F=function(e){return s.createElement("svg",Object.assign({width:"24",height:"20",viewBox:"0 0 24 20",fill:"none"},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.695 0.351482C19.9032 0.135371 20.1868 0.00948757 20.4855 0.000511017C20.7171 -0.00642408 20.9454 0.057366 21.1405 0.183512C21.3356 0.309658 21.4883 0.492283 21.5786 0.707441C21.669 0.922599 21.6927 1.16026 21.6468 1.38926C21.6008 1.61827 21.4873 1.82793 21.3212 1.99078L4.3048 19.1469C4.19867 19.2575 4.07178 19.3456 3.93152 19.4062C3.79125 19.4668 3.64043 19.4987 3.48783 19.5C3.33523 19.5012 3.1839 19.4718 3.04268 19.4135C2.90146 19.3552 2.77316 19.2691 2.66526 19.1603C2.55735 19.0515 2.47201 18.9222 2.4142 18.7798C2.35639 18.6374 2.32727 18.4849 2.32854 18.331C2.3298 18.1771 2.36143 18.0251 2.42157 17.8837C2.48171 17.7423 2.56917 17.6143 2.67885 17.5074L19.695 0.351482ZM0.193655 8.95376C2.47935 4.5123 7.03523 1.71636 11.9982 1.71636C13.5143 1.71601 14.9919 1.97725 16.3789 2.46512L14.7583 4.09901C13.9263 3.68538 12.9904 3.45188 12 3.45188C8.55044 3.45188 5.754 6.27118 5.75403 9.74917C5.75404 10.7476 5.98562 11.6913 6.39588 12.5301L3.92169 15.0246C2.39514 13.8491 1.11258 12.3359 0.194802 10.5571C-0.0645738 10.0547 -0.0649106 9.45653 0.193655 8.95376ZM17.6041 6.96802L20.0781 4.47375C21.6047 5.64932 22.8874 7.16248 23.8052 8.94153C24.0646 9.44387 24.0649 10.042 23.8064 10.5448C21.5205 14.9863 16.9647 17.7818 12.0018 17.7818C10.4857 17.7821 9.00815 17.5209 7.62116 17.033L9.2415 15.3994C10.0735 15.813 11.0096 16.0465 12 16.0465C15.4496 16.0465 18.246 13.227 18.246 9.74917C18.246 8.75058 18.0145 7.80688 17.6041 6.96802ZM9.24284 6.96914C10.0042 6.20163 11.0022 5.81824 12 5.81824C12.3155 5.81824 12.6308 5.85684 12.9387 5.93349L8.2154 10.6956C7.89855 9.40286 8.24082 7.97945 9.24284 6.96914ZM11.0613 13.5647L15.7846 8.80249C16.1013 10.0952 15.7589 11.5184 14.7569 12.5285C13.755 13.5388 12.3434 13.8839 11.0613 13.5647Z",fill:"#5548FF"}),s.createElement("path",{d:"M19.6951 0.351482C19.9034 0.135371 20.1869 0.00948757 20.4856 0.000511017C20.7173 -0.00642408 20.9456 0.057366 21.1406 0.183512C21.3357 0.309658 21.4884 0.492283 21.5787 0.707441C21.6691 0.922599 21.6928 1.16026 21.6469 1.38926C21.6009 1.61827 21.4874 1.82793 21.3213 1.99078L4.30491 19.1469C4.19879 19.2575 4.07189 19.3456 3.93163 19.4062C3.79137 19.4668 3.64054 19.4987 3.48794 19.5C3.33534 19.5012 3.18402 19.4718 3.0428 19.4135C2.90157 19.3552 2.77327 19.2691 2.66537 19.1603C2.55747 19.0515 2.47213 18.9222 2.41432 18.7798C2.35651 18.6374 2.32739 18.4849 2.32865 18.331C2.32992 18.1771 2.36154 18.0251 2.42169 17.8837C2.48183 17.7423 2.56929 17.6143 2.67896 17.5074L19.6951 0.351482Z",fill:"#5548FF"}))};(L=e.TransactionTypes||(e.TransactionTypes={})).ContractCall="contract_call",L.ContractDeploy="smart_contract",L.STXTransfer="token_transfer",(H=e.ContractCallArgumentType||(e.ContractCallArgumentType={})).BUFFER="buffer",H.UINT="uint",H.INT="int",H.PRINCIPAL="principal",H.BOOL="bool";var z=function(e,t){try{return Promise.resolve(t(e)).then((function(t){return M({token:t,opts:e})}))}catch(e){return Promise.reject(e)}},D=function(e){var n=e;if(!n){var r=new t.AppConfig(["store_write"],document.location.href);n=new t.UserSession({appConfig:r})}var o=n.loadUserData().appPrivateKey;return{privateKey:o,publicKey:a.SECP256K1Client.derivePublicKey(o)}},U=function(e,t){try{var n=new a.TokenSigner("ES256k",t);return Promise.resolve(n.signAsync(e))}catch(e){return Promise.reject(e)}},M=function(e){var t=e.token,n=e.opts;try{var r;return Promise.resolve(null===(r=window.BlockstackProvider)||void 0===r?void 0:r.getURL()).then((function(e){var r=new URL(e||n.authOrigin||"https://app.blockstack.org"),o=new URLSearchParams;o.set("request",t);var i=p({url:r.origin+"/#/transaction?"+o.toString(),h:700});return h({popup:i,authURL:r,onFinish:function(e){n.finished&&n.finished(e)},messageParams:{}}),i}))}catch(e){return Promise.reject(e)}},K=function(t){try{var n=t.functionArgs,r=t.appDetails,o=D(t.userSession),i=o.privateKey,a=o.publicKey,c=u({},t,{functionArgs:n.map((function(e){return"string"==typeof e?e:l.serializeCV(e).toString("hex")})),txType:e.TransactionTypes.ContractCall,publicKey:a});return r&&(c.appDetails=r),U(c,i)}catch(e){return Promise.reject(e)}},V=function(t){try{var n=t.appDetails,r=D(t.userSession),o=r.privateKey,i=u({},t,{publicKey:r.publicKey,txType:e.TransactionTypes.ContractDeploy});return n&&(i.appDetails=n),U(i,o)}catch(e){return Promise.reject(e)}},W=function(t){try{var n=t.amount,r=t.appDetails,o=D(t.userSession),i=o.privateKey,a=o.publicKey,l=u({},t,{amount:n.toString(10),publicKey:a,txType:e.TransactionTypes.STXTransfer});return r&&(l.appDetails=r),U(l,i)}catch(e){return Promise.reject(e)}},Z=function(e){return z(e,K)},q=function(e){return z(e,V)},G=function(e){return z(e,W)},X=function(){var e=n.useContext(w),t=e.isOpen,r=e.isAuthenticating,o=e.authData,i=e.screen,a=e.authOptions,l=e.userSession,c=function(){var e=n.useContext(x);if(!e)throw new Error("This must be used within the ConnectProvider component.");return e}(),s=function(e){return c({type:e})},d=function(){return s(m.SCREENS_INTRO)},p=function(){return c({type:m.START_AUTH})},h=function(e){c({type:m.FINISH_AUTH,payload:e}),f()},f=function(){c({type:m.MODAL_CLOSE}),setTimeout(d,250)};return{isOpen:t,isAuthenticating:r,authData:o,authOptions:a,screen:i,userSession:l,doOpenAuth:function(e,t){if(e){var n=u({},a,t,{finished:function(e){h(e),a.finished&&a.finished(e)},sendToSignIn:!0});return p(),void v(n)}a&&c({type:m.UPDATE_AUTH_OPTIONS,payload:a}),c({type:m.MODAL_OPEN})},doCloseAuth:f,doChangeScreen:s,doGoToIntroScreen:d,doGoToHowItWorksScreen:function(){return s(m.SCREENS_HOW_IT_WORKS)},doGoToSignInScreen:function(){return s(m.SCREENS_SIGN_IN)},doCancelAuth:function(){return c({type:m.CANCEL_AUTH})},doStartAuth:p,doFinishAuth:h,doAuth:function(e){void 0===e&&(e={}),p(),v(u({},a,e,{finished:function(e){a.finished&&a.finished(e),h(e)}}))},authenticate:v,doContractCall:function(e){try{return Promise.resolve(Z(u({},e,{authOrigin:a.authOrigin,appDetails:a.appDetails})))}catch(e){return Promise.reject(e)}},doContractDeploy:function(e){try{return Promise.resolve(q(u({},e,{authOrigin:a.authOrigin,appDetails:a.appDetails})))}catch(e){return Promise.reject(e)}},doSTXTransfer:function(e){try{return Promise.resolve(G(u({},e,{authOrigin:a.authOrigin,appDetails:a.appDetails})))}catch(e){return Promise.reject(e)}}}},Y=function(){var e=n.useContext(w).authOptions;if(!e.appDetails)throw new Error("This must be used within the ConnectProvider component.");return e.appDetails},J=function(e){return s.createElement(r.Text,Object.assign({width:"100%",fontWeight:"medium",fontSize:"24px",lineHeight:"32px",display:"inline-block"},e))},Q=function(e){return s.createElement(r.Text,Object.assign({pt:"loose",width:"100%",fontWeight:"medium",fontSize:["11px"],lineHeight:["20px"],color:"ink.600",style:{textTransform:"uppercase"}},e))},$=function(e){return s.createElement(r.Text,Object.assign({fontSize:"14px",lineHeight:"20px"},e))},ee=function(e){var t=e.isLoading;return s.createElement(r.Flex,{align:"center",justify:"center",position:"absolute",top:0,left:0,width:"100%",height:"100%",bg:"rgba(255,255,255,"+(t?.6:0)+")",borderBottomLeftRadius:"6px",borderBottomRightRadius:"6px",zIndex:99,transition:"250ms all",style:{pointerEvents:t?"unset":"none"},opacity:t?1:0},s.createElement(r.Box,{transition:"500ms all",transform:t?"none":"translateY(10px)"},s.createElement(r.Spinner,{size:"xl",thickness:"3px",color:"blue"})))},te=function(e){var t=e.noMinHeight,n=e.isLoading,o=e.children,i=e.onSubmit,a=d(e,["noMinHeight","isLoading","children","onSubmit"]),l=i?function(e){e.preventDefault(),i()}:void 0;return s.createElement(s.Fragment,null,s.createElement(ee,{isLoading:n}),s.createElement(r.Flex,Object.assign({width:"100%",flexDirection:"column",minHeight:t?void 0:["100vh","unset"],flex:1,style:{pointerEvents:n?"none":"unset"},as:i?"form":"main",onSubmit:l,"data-test":"screen"},a),o))},ne=function(e){return s.createElement(r.Flex,Object.assign({px:6},e))},re=function(e){var t=e.body,n=e.pretitle,o=e.fullWidth,i=d(e,["body","pretitle","fullWidth"]);return s.createElement(r.Flex,Object.assign({mx:o?0:6,flexDirection:"column"},i),n&&s.createElement(Q,null,n),t&&t.length?t.map((function(e,t){return e&&s.isValidElement(e)&&e.type===J?s.createElement(s.Fragment,{key:t},e):s.createElement($,{key:t},e)})):t)},oe=function(e){var t=e.children,n=d(e,["children"]);return s.createElement(r.Flex,Object.assign({mx:6,flex:1,fontSize:["12px","14px"],color:"ink.600",fontWeight:"medium",justify:"space-between"},n),t)},ie=function(){"undefined"!=typeof window&&window.open("https://blockstack.org","_blank")},ae=function(){return s.createElement(r.Flex,{fontSize:["12px","14px"],justifyContent:"center",color:"ink.600",textAlign:"center",width:"100%",my:"loose"},s.createElement(r.PseudoBox,{textAlign:"center",onClick:ie,onKeyPress:_(ie),textStyle:"caption",display:"flex",alignSelf:"flex-end",tabIndex:0,_hover:{cursor:"pointer"}},"Powered by",s.createElement(r.Box,{ml:"2px"},s.createElement(B,null)),"Blockstack"))},le=function(){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"7",fill:"none",viewBox:"0 0 32 7"},s.createElement("mask",{id:"a",width:"32",height:"7",x:"0",y:"0",fill:"#000",maskUnits:"userSpaceOnUse"},s.createElement("path",{fill:"#fff",d:"M0 0H32V7H0z"}),s.createElement("path",{fillRule:"evenodd",d:"M3.5 5a1.5 1.5 0 001.415-1h22.17a1.5 1.5 0 100-1H4.915A1.5 1.5 0 103.5 5z",clipRule:"evenodd"})),s.createElement("path",{fill:"#677282",fillRule:"evenodd",d:"M3.5 5a1.5 1.5 0 001.415-1h22.17a1.5 1.5 0 100-1H4.915A1.5 1.5 0 103.5 5z",clipRule:"evenodd"}),s.createElement("path",{fill:"#fff",d:"M4.915 4V2H3.5L3.03 3.334 4.915 4zm22.17 0l1.886-.667L28.5 2h-1.415v2zm0-1v2H28.5l.471-1.333L27.085 3zM4.915 3l-1.886.666L3.5 5h1.415V3zm-1.886.334A.5.5 0 013.5 3v4a3.5 3.5 0 003.3-2.334L3.03 3.334zM27.085 2H4.915v4h22.17V2zM28.5 3a.5.5 0 01.471.333L25.2 4.667A3.5 3.5 0 0028.5 7V3zm-.5.5a.5.5 0 01.5-.5v4A3.5 3.5 0 0032 3.5h-4zm.5.5a.5.5 0 01-.5-.5h4A3.5 3.5 0 0028.5 0v4zm.471-.333A.5.5 0 0128.5 4V0a3.5 3.5 0 00-3.3 2.333l3.771 1.333zM4.915 5h22.17V1H4.915v4zM3.5 4a.5.5 0 01-.471-.334L6.8 2.334A3.5 3.5 0 003.5 0v4zm.5-.5a.5.5 0 01-.5.5V0A3.5 3.5 0 000 3.5h4zM3.5 3a.5.5 0 01.5.5H0A3.5 3.5 0 003.5 7V3z",mask:"url(#a)"}))},ce=function(){return s.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"none",viewBox:"0 0 64 64"},s.createElement("path",{d:"M0 25.6C0 16.6392 0 12.1587 1.7439 8.73615C3.27787 5.72556 5.72556 3.27787 8.73615 1.7439C12.1587 0 16.6392 0 25.6 0L38.4 0C47.3608 0 51.8413 0 55.2638 1.7439C58.2744 3.27787 60.7221 5.72556 62.2561 8.73615C64 12.1587 64 16.6392 64 25.6V38.4C64 47.3608 64 51.8413 62.2561 55.2638C60.7221 58.2744 58.2744 60.7221 55.2638 62.2561C51.8413 64 47.3608 64 38.4 64H25.6C16.6392 64 12.1587 64 8.73615 62.2561C5.72556 60.7221 3.27787 58.2744 1.7439 55.2638C0 51.8413 0 47.3608 0 38.4L0 25.6Z",fill:"#E3E5FF"}),s.createElement("path",{d:"M40.7273 26.7143H39.6364V23.5C39.6364 21.5109 38.8318 19.6032 37.3997 18.1967C35.9676 16.7902 34.0253 16 32 16C29.9747 16 28.0324 16.7902 26.6003 18.1967C25.1682 19.6032 24.3636 21.5109 24.3636 23.5V26.7143H23.2727C22.405 26.7152 21.5732 27.0542 20.9596 27.6568C20.3461 28.2594 20.001 29.0764 20 29.9286V42.7857C20.001 43.6379 20.3461 44.4549 20.9596 45.0575C21.5732 45.6601 22.405 45.9991 23.2727 46H40.7273C41.595 45.9991 42.4268 45.6601 43.0404 45.0575C43.6539 44.4549 43.999 43.6379 44 42.7857V29.9286C43.999 29.0764 43.6539 28.2594 43.0404 27.6568C42.4268 27.0542 41.595 26.7152 40.7273 26.7143ZM26.5455 23.5C26.5455 22.0792 27.1201 20.7166 28.1431 19.7119C29.166 18.7073 30.5534 18.1429 32 18.1429C33.4466 18.1429 34.834 18.7073 35.8569 19.7119C36.8799 20.7166 37.4545 22.0792 37.4545 23.5V26.7143H26.5455V23.5Z",fill:"#3700FF"}))},se=function(e){var t=e.name,n=e.icon,o=d(e,["name","icon"]);return s.createElement(r.Flex,Object.assign({mx:"auto",position:"relative"},o),s.createElement(I,{size:"64px",mr:"loose",src:n,alt:t,borderRadius:"0"}),s.createElement(r.Box,{position:"absolute",left:"50%",top:"50%",ml:"-16px",mt:"-6px"},s.createElement(le,null)),s.createElement(ce,null))},ue=function(){var e=X(),t=e.doGoToHowItWorksScreen,n=e.doAuth,o=Y(),i=o.name;return s.createElement(te,{noMinHeight:!0,textAlign:"center"},s.createElement(se,{mt:"loose",name:i,icon:o.icon}),s.createElement(re,{fullWidth:!0,mt:"base",body:[s.createElement(J,{fontSize:"20px",lineHeight:"28px",px:"extra-loose"},i+" guarantees your privacy by encrypting everything"),s.createElement(r.Box,{mt:"base",mx:"auto",width:"100%",height:"1px",bg:"#E5E5EC"}),s.createElement(r.Box,null,s.createElement(O,{items:[{icon:N,text:"You'll get a Secret Key that automatically encrypts everything you do"},{icon:F,text:i+" won't be able to see, access, or track your activity"}]}))]}),s.createElement(ne,null,s.createElement(r.Button,{width:"100%",size:"lg",mt:"tight",onClick:function(){return n()}},"Get your Secret Key")),s.createElement(oe,null,s.createElement(r.Stack,{mb:"base-loose",mt:"base-tight",spacing:"base",isInline:!0},s.createElement(A,{textStyle:"caption",color:"blue",onClick:function(){return n({sendToSignIn:!0})}},"Sign in"),s.createElement(A,{color:"blue",textStyle:"caption",onClick:function(){t()}},"How it works"),s.createElement(A,{color:"blue",textStyle:"caption",onClick:function(){window.open("https://www2.blockstack.org/install-extension","_blank")}},"Install extension"))))},de=function(e){var t=e.name;return[{title:"What is Blockstack?",body:s.createElement("span",null,"Blockstack is the open-source technology that generates your Secret Key. There's no company that owns or controls Blockstack, it is independent. Go to"," ",s.createElement(A,{color:"blue",display:"inline-block",onClick:function(){return window.open("https://blockstack.org","_blank")},fontSize:"14px"},"blockstack.org")," ","to learn more.")},{title:"Encryption",body:"Encryption is always on. It locks everything you do in "+t+" into useless codes. Because of this, "+t+" can’t see or track your activity. Your data can only be unlocked with the key that you own. No one else has this key, not even "+t+", so no one else can unlock your data"},{title:"What is a Secret Key?",body:"Your Secret Key unlocks your data. It's created independently from "+t+" to make sure that "+t+" doesn't have it. An open-source protocol called Blockstack generates your Secret Key when you sign up. Nobody but you will have your Secret Key, to make sure that only you have access to your data."},{title:"When will I need my Secret Key?",body:"You’ll need your Secret Key to prove it’s you when you use "+t+" on a new device, such as a new phone or laptop. After that, your Secret Key will stay active to keep you safe and private in the apps you use on that device."}]},pe=function(){var e=Y().name,t=X().doAuth;return s.createElement(te,null,s.createElement(re,{pretitle:"How it works",body:[s.createElement(J,null,e," keeps everything you do private with Blockstack's Secret Key technology"),s.createElement(r.Text,{mt:"tight",display:"block"},"Normally, apps keep your data for them to use. When you have a Secret Key, you no longer have to trust ",e," with your data because ",e," won't have access."),s.createElement(r.Box,{mt:"tight"},de({name:e}).map((function(e,t){var n=e.body;return s.createElement(r.Box,{mt:"extra-loose",key:t},s.createElement(r.Text,{mt:"base-tight",display:"block",fontWeight:"semibold"},e.title),s.createElement(r.Text,{mt:"tight",display:"block"},n))})))]}),s.createElement(ne,null,s.createElement(r.Button,{width:"100%",size:"lg",mt:"loose",onClick:function(){return t()}},"Get Started")),s.createElement(oe,null,s.createElement(ae,null)))},he=function(e){var t=X(),n=t.authenticate,i=t.authOptions,a=o.useHover(),l=a[0];return s.createElement(r.Flex,Object.assign({textAlign:"center",width:"100%",align:"center",justifyContent:"center",border:"1px solid",borderColor:"inherit",px:"loose",py:"base-tight",borderRadius:"6px",boxShadow:"mid",height:14,transition:"250ms all",cursor:l?"pointer":"unset",bg:l?"rgba(0,0,0,0.02)":"white",transform:l?"translateY(-2px)":"none",onClick:function(){n(u({},i,{sendToSignIn:!0}))}},a[1],e),s.createElement(k,{mr:"tight"}),s.createElement(r.Text,{fontWeight:500},"Continue with Secret Key"))},me=new Set;"undefined"!=typeof window&&(window.__useScrollLockInstances=window.__useScrollLockInstances||new Set,me=window.__useScrollLockInstances);var fe=function(){return window.__useScrollLockStyle=window.__useScrollLockStyle||window.getComputedStyle(document.body).overflow,window.__useScrollLockStyle},Ce=function(e){e?(fe(),document.body.style.overflow="hidden"):document.body.style.overflow=fe()},ge=function(e){var t=e.size,n=void 0===t?16:t;return s.createElement("svg",{width:n,height:n,viewBox:"0 0 16 16"},s.createElement("path",{fill:"#C1C3CC",fillRule:"evenodd",d:"M4.817 3.403a1 1 0 00-1.414 1.414L6.586 8l-3.183 3.183a1 1 0 001.414 1.415L8 9.415l3.183 3.183a1 1 0 101.415-1.415L9.415 8l3.183-3.183a1.002 1.002 0 00-.325-1.631 1 1 0 00-1.09.217L8 6.586 4.817 3.403z",clipRule:"evenodd"}))},ve=function(e){var t=e.hideIcon,n=e.title;return s.createElement(r.Flex,{align:"center"},void 0!==t&&t?null:s.createElement(k,{mr:"tight"}),s.createElement(r.Text,{fontWeight:500,fontSize:"12px"},n))},ye=function(e){var t=e.size,n=d(e,["size"]),i=o.useHover(),a=n.icon;return s.createElement(r.Box,Object.assign({as:"button",border:"0",borderColor:"transparent",backgroundColor:"transparent",cursor:i[0]?"pointer":"unset"},i[1],n),s.createElement(a,{direction:"left",size:t}))},Ee=function(e){var t=e.title,n=e.back,o=e.hideIcon,i=e.close,a=e.hideTitleElements,l=d(e,["title","back","hideIcon","close","hideTitleElements"]),c=X(),u=c.doCloseAuth,p=c.doChangeScreen;return s.createElement(r.Flex,Object.assign({p:"base",borderRadius:["unset","6px 6px 0 0"],bg:"white",align:"center",justify:"space-between",position:"relative",borderBottom:n?"1px solid":"unset",borderBottomColor:"inherit"},l),n?s.createElement(ye,{onClick:function(){return p(n)},icon:r.ChevronIcon,size:22}):null,a?s.createElement(r.Flex,null):s.createElement(r.Flex,{align:"center",mx:n?"auto":"unset",transform:n?"translateX(-15px)":"unset"},s.createElement(ve,{hideIcon:o,title:t})),i?s.createElement(ye,{size:16,icon:ge,onClick:u}):null)},Se=function(){switch(X().screen){case m.SCREENS_HOW_IT_WORKS:return s.createElement(pe,null);case m.SCREENS_SIGN_IN:return s.createElement(r.Box,{width:"100%",p:"base-loose"},s.createElement(he,null));default:return s.createElement(ue,null)}},we=function(){var e,t,o=X(),i=o.isOpen,a=o.doCloseAuth,l=o.screen;return e=i,t=n.useState({})[0],n.useEffect((function(){var n;return e&&(n=t,0===me.size&&Ce(!0),me.add(n)),function(){return function(e){me.delete(e),0===me.size&&Ce(!1)}(t)}}),[t,e]),s.createElement(r.ThemeProvider,{theme:r.theme},s.createElement(r.ScopedCSSReset,null,s.createElement(r.Modal,{headerComponent:s.createElement(Ee,{close:!(l===m.SCREENS_HOW_IT_WORKS),hideTitleElements:!0,back:l===m.SCREENS_HOW_IT_WORKS?m.SCREENS_INTRO:void 0,title:l===m.SCREENS_SIGN_IN?"Sign In":"Secret Key"}),close:a,isOpen:i},s.createElement(Se,null))))},xe=function(e){var t=e.children;return s.createElement(b,{authOptions:e.authOptions},s.createElement(we,null),t)},be=function(){var e=X().doOpenAuth;return n.useEffect((function(){setTimeout((function(){e()}),10)}),[]),s.createElement("div",null)};e.Connect=xe,e.Link=A,e.PoweredBy=ae,e.Screen=te,e.ScreenActions=ne,e.ScreenBody=re,e.ScreenFooter=oe,e.ScreenHeader=function(e){var t=e.appDetails,n=e.hideLogo,o=void 0!==n&&n,i=e.rightContent,a=d(e,["appDetails","hideLogo","rightContent","title"]),l=Y(),c=l.name,u=l.icon;return t&&(c=t.name,u=t.icon),s.createElement(r.Flex,Object.assign({py:[4,5],px:"base",height:"56px",borderBottom:"1px solid",borderBottomColor:"inherit",borderRadius:["unset","6px 6px 0 0"],bg:"white",align:"center",justify:"space-between"},a),s.createElement(r.Flex,{width:"100%",align:"center",justifyContent:"space-between"},s.createElement(r.Flex,{align:"center"},o?null:s.createElement(I,{src:u,alt:c||"loading",mr:"tight"}),s.createElement(r.Text,{fontWeight:500,textStyle:"body.small.medium",fontSize:"12px"},c)),i||null))},e.ScreenLoader=ee,e.Title=J,e.authenticate=v,e.buildEnterKeyEvent=_,e.defaultAuthURL="https://app.blockstack.org",e.getOrCreateUserSession=g,e.getUserData=function(e){try{return(e=g(e)).isUserSignedIn()?Promise.resolve(e.loadUserData()):e.isSignInPending()?Promise.resolve(e.handlePendingSignIn()):Promise.resolve(null)}catch(e){return Promise.reject(e)}},e.isMobile=f,e.makeContractCallToken=K,e.makeContractDeployToken=V,e.makeSTXTransferToken=W,e.openContractCall=Z,e.openContractDeploy=q,e.openSTXTransfer=G,e.popupCenter=p,e.setupListener=h,e.shouldUsePopup=C,e.showBlockstackConnect=function(e){if(e.sendToSignIn)return v(e);var t=document.createElement("div");document.body.appendChild(t),c.render(s.createElement(xe,{authOptions:e},s.createElement(be,null)),t)},e.useConnect=X}));
//# sourceMappingURL=connect.umd.production.min.js.map
