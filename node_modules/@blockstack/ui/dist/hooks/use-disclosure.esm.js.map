{"version":3,"file":"use-disclosure.esm.js","sources":["../../src/hooks/use-disclosure.ts"],"sourcesContent":["import * as React from 'react';\nimport { useControllableProp } from './use-controllable';\nimport { usePrevious } from './use-previous';\n\nexport interface UseDisclosureProps {\n  isOpen?: boolean;\n  defaultIsOpen?: boolean;\n  onClose?(): void;\n  onOpen?(): void;\n}\n\nexport function useDisclosure(props: UseDisclosureProps = {}) {\n  const { onClose: onCloseProp, onOpen: onOpenProp } = props;\n\n  const [isOpenState, setIsOpen] = React.useState(props.defaultIsOpen || false);\n  const [isControlled, isOpen] = useControllableProp(props.isOpen, isOpenState);\n\n  const prevIsOpen = usePrevious(isOpen);\n\n  const onClose = React.useCallback(() => {\n    if (!isControlled) {\n      setIsOpen(false);\n    }\n    if (onCloseProp) {\n      onCloseProp();\n    }\n  }, [isControlled, onCloseProp]);\n\n  const onOpen = React.useCallback(() => {\n    if (!isControlled) {\n      setIsOpen(true);\n    }\n    if (onOpenProp) {\n      onOpenProp();\n    }\n  }, [isControlled, onOpenProp]);\n\n  const onToggle = React.useCallback(() => {\n    const action = isOpen ? onClose : onOpen;\n    action();\n  }, [isOpen, onOpen, onClose]);\n\n  return {\n    isOpen: Boolean(isOpen),\n    prevIsOpen: Boolean(prevIsOpen),\n    onOpen,\n    onClose,\n    onToggle,\n    isControlled,\n  };\n}\n\nexport type UseDisclosureReturn = ReturnType<typeof useDisclosure>;\n"],"names":["useDisclosure","props","onCloseProp","onClose","onOpenProp","onOpen","React","defaultIsOpen","isOpenState","setIsOpen","useControllableProp","isOpen","isControlled","prevIsOpen","usePrevious","onToggle","action","Boolean"],"mappings":";;;;SAWgBA,cAAcC;MAAAA;AAAAA,IAAAA,QAA4B;;;eACHA;MAApCC,qBAATC;MAA8BC,oBAARC;;wBAEGC,QAAA,CAAeL,KAAK,CAACM,aAAN,IAAuB,KAAtC;MAA1BC;MAAaC;;6BACWC,mBAAmB,CAACT,KAAK,CAACU,MAAP,EAAeH,WAAf;MAA3CI;MAAcD;;AAErB,MAAME,UAAU,GAAGC,WAAW,CAACH,MAAD,CAA9B;AAEA,MAAMR,OAAO,GAAGG,WAAA,CAAkB;AAChC,QAAI,CAACM,YAAL,EAAmB;AACjBH,MAAAA,SAAS,CAAC,KAAD,CAAT;AACD;;AACD,QAAIP,WAAJ,EAAiB;AACfA,MAAAA,WAAW;AACZ;AACF,GAPe,EAOb,CAACU,YAAD,EAAeV,WAAf,CAPa,CAAhB;AASA,MAAMG,MAAM,GAAGC,WAAA,CAAkB;AAC/B,QAAI,CAACM,YAAL,EAAmB;AACjBH,MAAAA,SAAS,CAAC,IAAD,CAAT;AACD;;AACD,QAAIL,UAAJ,EAAgB;AACdA,MAAAA,UAAU;AACX;AACF,GAPc,EAOZ,CAACQ,YAAD,EAAeR,UAAf,CAPY,CAAf;AASA,MAAMW,QAAQ,GAAGT,WAAA,CAAkB;AACjC,QAAMU,MAAM,GAAGL,MAAM,GAAGR,OAAH,GAAaE,MAAlC;AACAW,IAAAA,MAAM;AACP,GAHgB,EAGd,CAACL,MAAD,EAASN,MAAT,EAAiBF,OAAjB,CAHc,CAAjB;AAKA,SAAO;AACLQ,IAAAA,MAAM,EAAEM,OAAO,CAACN,MAAD,CADV;AAELE,IAAAA,UAAU,EAAEI,OAAO,CAACJ,UAAD,CAFd;AAGLR,IAAAA,MAAM,EAANA,MAHK;AAILF,IAAAA,OAAO,EAAPA,OAJK;AAKLY,IAAAA,QAAQ,EAARA,QALK;AAMLH,IAAAA,YAAY,EAAZA;AANK,GAAP;AAQD;;;;"}