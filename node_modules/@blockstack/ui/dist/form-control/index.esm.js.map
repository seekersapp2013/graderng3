{"version":3,"file":"index.esm.js","sources":["../../src/form-control/index.tsx"],"sourcesContent":["import React, { createContext, useContext, forwardRef } from 'react';\nimport { Box } from '../box';\nimport { FormControlProps } from './types';\n\ninterface NormalObject {\n  [key: string]: any;\n}\n\nconst FormControlContext = createContext<NormalObject>({});\n\nexport const useFormControlContext = () => useContext(FormControlContext);\n\nexport const useFormControl = (props: any) => {\n  const context = useFormControlContext();\n  if (!context) {\n    return props;\n  }\n  const keys = Object.keys(context);\n  return keys.reduce((acc: NormalObject, prop) => {\n    /** Giving precedence to `props` over `context` */\n    acc[prop] = props[prop];\n\n    if (context) {\n      if (props[prop] == null) {\n        acc[prop] = context[prop];\n      }\n    }\n\n    return acc;\n  }, {});\n};\n\n/**\n * FormControl provides context such as `isInvalid`, `isRequired`, `isDisabled` to it's children.\n */\nconst FormControl = forwardRef<any, FormControlProps>(\n  ({ isInvalid, isRequired, isDisabled, isReadOnly, ...rest }, ref) => {\n    const context = {\n      isRequired,\n      isDisabled,\n      isInvalid,\n      isReadOnly,\n    };\n\n    return (\n      <FormControlContext.Provider value={context}>\n        <Box role=\"group\" ref={ref} {...rest} />\n      </FormControlContext.Provider>\n    );\n  }\n);\n\nFormControl.displayName = 'FormControl';\n\nexport { FormControl };\n"],"names":["FormControlContext","createContext","useFormControlContext","useContext","useFormControl","props","context","keys","Object","reduce","acc","prop","FormControl","forwardRef","ref","isInvalid","isRequired","isDisabled","isReadOnly","rest","React","Provider","value","Box","role","displayName"],"mappings":";;;;AAQA,IAAMA,kBAAkB,gBAAGC,aAAa,CAAe,EAAf,CAAxC;IAEaC,qBAAqB,GAAG,SAAxBA,qBAAwB;AAAA,SAAMC,UAAU,CAACH,kBAAD,CAAhB;AAAA;IAExBI,cAAc,GAAG,SAAjBA,cAAiB,CAACC,KAAD;AAC5B,MAAMC,OAAO,GAAGJ,qBAAqB,EAArC;;AACA,MAAI,CAACI,OAAL,EAAc;AACZ,WAAOD,KAAP;AACD;;AACD,MAAME,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYD,OAAZ,CAAb;AACA,SAAOC,IAAI,CAACE,MAAL,CAAY,UAACC,GAAD,EAAoBC,IAApB;AAEjBD,IAAAA,GAAG,CAACC,IAAD,CAAH,GAAYN,KAAK,CAACM,IAAD,CAAjB;;AAEA,QAAIL,OAAJ,EAAa;AACX,UAAID,KAAK,CAACM,IAAD,CAAL,IAAe,IAAnB,EAAyB;AACvBD,QAAAA,GAAG,CAACC,IAAD,CAAH,GAAYL,OAAO,CAACK,IAAD,CAAnB;AACD;AACF;;AAED,WAAOD,GAAP;AACD,GAXM,EAWJ,EAXI,CAAP;AAYD;IAKKE,WAAW,gBAAGC,UAAU,CAC5B,gBAA6DC,GAA7D;MAAGC,iBAAAA;MAAWC,kBAAAA;MAAYC,kBAAAA;MAAYC,kBAAAA;MAAeC;;AACnD,MAAMb,OAAO,GAAG;AACdU,IAAAA,UAAU,EAAVA,UADc;AAEdC,IAAAA,UAAU,EAAVA,UAFc;AAGdF,IAAAA,SAAS,EAATA,SAHc;AAIdG,IAAAA,UAAU,EAAVA;AAJc,GAAhB;AAOA,SACEE,4BAAA,CAACpB,kBAAkB,CAACqB,QAApB;AAA6BC,IAAAA,KAAK,EAAEhB;GAApC,EACEc,4BAAA,CAACG,GAAD;AAAKC,IAAAA,IAAI,EAAC;AAAQV,IAAAA,GAAG,EAAEA;KAASK,KAAhC,CADF,CADF;AAKD,CAd2B;AAiB9BP,WAAW,CAACa,WAAZ,GAA0B,aAA1B;;;;"}